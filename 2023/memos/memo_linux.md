# Linux

## カーソル移動系コマンド

|command|効果|
|:--|:--|
|Ctrl+f|一文字次へ移動|
|Ctrl+b|一文字前へ移動|
|Ctrl+a|行の先頭へ移動|
|Ctrl+e|行の最後へ移動|
|Esc+f|一単語次へ移動|
|Esc+b|一単語前へ移動|
|Ctrl+h|カーソルの左を一文字削除|
|Ctrl+d|カーソル部分を削除|
|Ctrl+w|カーソル位置の単語を削除（カーソルの前部分）|
|Ctrl+u|カーソル位置から行頭まで削除|
|Ctrl+k|カーソル位置から行末まで削除|
|Ctrl+y|最後に削除した内容を挿入|
|Ctrl+l(エル)|画面のクリア|
|Ctrl+g|Ctrl+rや↑キーの履歴の検索内容を破棄してコマンドラインに戻る|



- フォアグラウンド/バックグラウンド
    - `コマンド &`でバックグラウンドで実行できる
    - Ctrl+z で実行中のジョブを停止し、fg %<ジョブID>で元に戻れる

- CPUに負荷をかける
    - `yes > /dev/null &`

## フォルダ構成

- /bin
    - 一般ユーザーや管理ユーザーの両方が使用する実行ファイルを格納
    - 特にLinuxの動作に最低限必要な重要度の高いコマンド
- /dev
    - デバイスファイル（ハードウェアをファイルとして扱えるようにしたファイル）を格納
- /etc
    - 設定ファイルを格納
    - Linuxで動作するアプリや、Linux本体が対象の設定ファイル
- /home
    - ユーザー毎に割与えられる
- /lib
    - 複数のプログラムで共通に使われるライブラリを格納
- /sbin
    - 管理者ユーザー向けの実行コマンドを配布
- /tmp
    - 一時的なファイルを格納
    - 定期的に削除される
- /usr
    - 各種アプリケーションとそれに付随するファイルを格納
    - /usr/localにユーザーが独自にインストールしたファイルを格納する場合もあり
- /var
    - 変化するデータ
    - アプリケーションが出力したログなど


## 基本コマンド一覧

|command|覚え方|効果|
|:--|:--|:--|
|cd|ChangeDirectory|ディレクトリを移動する|
|pwd|Print name of Working Directory|カレントディレクトリを表示する|
|ls|LiSt|ファイルやディレクトリの一覧表示|
|mkdir|MaKeDirectory|ディレクトリの作成|
|rmdir|RemoveDirectory|空のディレクトリを削除|
|cat|ConcATenate|ファイル内容の表示|
|less| 逆スクロールができるmoreコマンドの逆|ファイルの中身をスクロール表示|
|tail|末尾|ファイルの末尾を表示|
|touch|タッチそのまま|空のファイルを作成する|
|rm|ReMove|ファイル・ディレクトリを削除する|
|mv|MoVe|ファイルの移動、ファイル名の変更|
|cp|CoPy|ファイル・ディレクトリをコピー|
|ln|LiNk|リンクを作成する|
|find|find|ファイル検索|
|wc|WordCount|入力の行数、単語数、文字数を計算できる|
|chmod|CHange MODe|ファイルやディレクトリのパーミッションを設定する|
|chown|CHange oWNer|ファイルやディレクトリの所有者を変更する|
|ps|Process Status|実行中のプロセスを表示する|
|kill|kill process|ジョブID、プロセスIDを指定して終了させる|
|jobs|jobs|現在のジョブの一覧|
|fg|ForeGround|ジョブをフォアグラウンドにする|
|bg|BackGround|ジョブをバックグラウンドにする|
|sudo|Switch User and DO|管理者権限|
|man|MANual|コマンドを調べることができる|

### 補足

- ls
    - `ls *.txt`
    - `ls ???.txt`三文字のtxt
    - -l 詳細表示
    - -a 隠しファイルも含めて表示
    - -F ファイル種別を表示する
        - @ シンボリックリンク
        - * 実行可能ファイル
    - -t 更新時間順にソート
    - -r 逆順にソート
    - -R 子フォルダの内容も再起的に表示
- mkdir
    - -p 深い階層のディレクトリを一度に作成できる
- rmdir
    - 空でない場合は削除できないので安全ではあるが使用頻度は少ない
- cat
    - -n 行番号を表示
    - 複数ファイルをまとめて結合して表示も可能
        - 結合はconcatenate
    - `cat > file.txt`でコンソール入力からファイル作成が可能
- less
    - コマンド
        - スペース、f 一画面したにスクロール
        - b 一画面上にスクロール
        - j 一行下にスクロール
        - k 一行上にスクロール
        - / 検索.?でも可
        - n 次の検索結果
        - N 前の検索結果
- tail
    - -f でリアルタイムに変更が確認できる
    - -n で行数指定
    - -c でバイト指定
    - 行頭を表示するheadというコマンドもある
- touch
    - ファイルが存在する場合は上書きせずにタイムスタンプのみ更新する
    - 複数作成可能
- rm
    - 復旧できないので注意
    - -i 削除前に確認する
- move
    - -i　上書き前に確認する
    - 第二引数がディレクトリなら移動、そうでないなら名前変更
    - ディレクトリの末尾の`/`はつけなくても動作は変わらない
- link
    - オプションがないとハードリンク(一つのファイルに複数の名前をつける)になる
        - すべての名前がなくなった時に削除
    - -s シンボリック
    - 参照先の削除・移動に追従しない
- find
    - find <検索開始ディレクトリ> <検索条件> <アクション>
    - ex. find . -name README.md -print
    - 検索条件
        - ワイルドカードの`*`を使用する際は`'`か`"`でくくる
            - `*`がないとpwdのファイルを展開して引数に与えて構文エラーになってしまうため
        - inameはファイル名の大小を区別しない
        - -type ファイル種類(f 通常ファイル,d ディレクトリ,l シンボリックリンク
        - -a 複数条件を指定するが省略可能
    - アクション
        - -print 表示する。省略された場合はこちらが
- chmod
    - `chmod [ugoa] [+-=] [rwx] <ファイル名>`
    - `chmod <8進数> <ファイル名>`
- ps
    - psはオプションにハイフンをつけない
    - aux すべてのユーザーのプロセスを詳細情報を合わせて表示
        - aでother all　user, xは本人の全てのプロセス, uで詳細表示
- fg/bg
    - fg %1 #ジョブID1をforeグラウンドにする
- kill
    - `kill -<シグナル名> <プロセスID>`
    - job id　には%をつける
    - 正確にはシグナルを送るコマンドで省略されれば -TERM　が送信されて終了される
    - killでも上手くいかない場合の最終手段`kill -9 xxxx`/`kill -SIGKIL xxxx`
- man
    - `man <コマンド>`
        - --helpよりも詳しい
        - -kでコマンド検索ができる

## 標準入出力
- 基本
    - `<` 入力のリダイレクト
    - `2>`エラー出力のリダイレクト
    - `ls / /hoge > output.txt 2>&1`標準出力とエラー出力をまとめて出力する
    - `> /dev/null`結果を非表示としたい場合に指定する
    - 

### パーミッション
- オーナーの他にグループが存在する。ls -l で確認できる

